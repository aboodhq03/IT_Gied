<link rel="stylesheet" href="~/css/gpa.css" asp-append-version="true" />

@model IT_Gied.Models.UserGpa

@{
    ViewData["Title"] = "Cumulative GPA Calculator";
    var saved = Model?.CumulativeGpa ?? 0m;
}

<link rel="stylesheet" href="~/css/gpa.css" asp-append-version="true" />

<h2>Term & Cumulative GPA Calculator</h2>

@if (TempData["Msg"] != null)
{
    <div class="msg-success">
        @TempData["Msg"]
    </div>
}

<div class="saved-box">
    <b>Last saved cumulative GPA:</b> @saved.ToString("0.00")
</div>

<form asp-action="Save" method="post" id="gpaForm">
    @Html.AntiForgeryToken()

    <h4>Current Term Courses</h4>

    <table class="gpa-table">
        <thead>
            <tr>
                <th>Course Name</th>
                <th>Credits</th>
                <th>Grade (A+, A, A-, ...)</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="rows">
            <tr>
                <td><input class="cname" type="text" placeholder="Course name" /></td>
                <td><input class="credits" type="number" min="0" step="1" /></td>
                <td><input class="grade" type="text" placeholder="e.g. A+ / b / c-" /></td>
                <td><button type="button" class="del">X</button></td>
            </tr>
        </tbody>
    </table>

    <div class="actions">
        <button type="button" id="addRow">Add Course</button>
    </div>

    <h4 class="mt">Previous Data</h4>
    <div class="prev-wrap">
        <input id="oldGpa" type="number" step="0.01" placeholder="Previous cumulative GPA" />
        <input id="oldCredits" type="number" step="1" placeholder="Previous total credits" />
    </div>

    <hr class="sep" />

    <div class="results">
        <div><b>Term Credits:</b> <span id="termCredits">0</span></div>
        <div><b>Term GPA:</b> <span id="termGpa">0.00</span></div>
        <div class="big">
            <b>New Cumulative GPA:</b> <span id="newCumGpa">0.00</span>
        </div>
    </div>

   
    <input type="hidden" name="cumulativeGpa" id="cumulativeGpa" value="0.00" />

    <div class="actions">
        <button type="submit">Save Cumulative GPA</button>
    </div>
</form>

<script src="~/js/gpa.js" asp-append-version="true"></script>
